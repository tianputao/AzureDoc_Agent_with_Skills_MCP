# ä½¿ç”¨ Microsoft Agent Frameworkã€Agent Skills å’Œ MCP æ„å»ºæ™ºèƒ½æ–‡æ¡£åŠ©æ‰‹

## å¼•è¨€

ç”±Anthropicså¼€æ”¾çš„Claude agent skillsæ— ç–‘æ˜¯å½“ä¸‹æœ€ç«çš„AgenticæŠ€æœ¯ã€‚å„å¤§AIå¼€å‘åŠ©ç†å‚å•†ä¹Ÿéƒ½è·Ÿè¿›ï¼Œä½ å¯ä»¥åˆ©ç”¨Claude code agent SDKæˆ–è€…å…¶ä»–å‚å•†çš„SDKæ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ–è€…åœ¨AIå¼€å‘åŠ©ç†è½¯ä»¶ä¸­ç›´æ¥ä½¿ç”¨ã€‚ä½†å®ƒæœ¬æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€æƒ³ï¼Œå‚è€ƒè¿™ä¸ªæ–‡æ¡£è‡ªä¸»å¼€å‘å®ç°è¿™ä¸ªèƒ½åŠ›ã€‚å¦å¤–ä¹Ÿé€šè¿‡æœ¬ç¯‡æ–‡ç« çš„å®é™…ä¾‹å­æ¥é˜è¿°Agent Skillså’ŒMCPçš„åŒºåˆ«ï¼Œå’Œå¦‚ä½•é…åˆä½¿ç”¨ã€‚

Agent Skillsæ–‡æ¡£ï¼š
https://agentskills.io

æ­¤Agentä¸»è¦ç»“åˆäº†ä¸‰é¡¹æŠ€æœ¯æ¥å®ç°æ™ºèƒ½Azureæ–‡æ¡£åŠ©æ‰‹ï¼Œæ— éœ€æœ€å¤æ‚çš„RAGï¼š

- **Microsoft Agent Framework (MAF)** - ä¼ä¸šçº§ Agent ç¼–æ’æ¡†æ¶
- **Agent Skills** - æ¨¡å—åŒ–ã€å¯å‘ç°çš„èƒ½åŠ›ç³»ç»Ÿ  
- **Model Context Protocol (MCP)** - æ ‡å‡†åŒ–å·¥å…·é›†æˆåè®®

æœ€ç»ˆå®ç°äº†ä¸€ä¸ªå¯æ‰©å±•çš„æ™ºèƒ½ Agentï¼Œèƒ½å¤Ÿç†è§£ç”¨æˆ·æ„å›¾ã€åŠ¨æ€æ¿€æ´»ç›¸å…³æŠ€èƒ½ï¼Œå¹¶åˆ©ç”¨é€‚å½“çš„å·¥å…·æä¾›å‡†ç¡®çš„æ–‡æ¡£å¸®åŠ©ã€‚

## æ¶æ„æ¦‚è§ˆ

### ç³»ç»Ÿæ¶æ„

> ğŸ“Š **æ¶æ„å›¾**: [ç³»ç»Ÿæ¶æ„å›¾](./DIAGRAMS.md#system-architecture)

å®Œæ•´çš„ç³»ç»Ÿæ¶æ„æ•´åˆäº†å‰ç«¯ã€åç«¯ã€Skillsç³»ç»Ÿå’ŒMCPæœåŠ¡å™¨ï¼Œæä¾›æ™ºèƒ½æ–‡æ¡£å¸®åŠ©ã€‚

### æ¸è¿›å¼æŠ«éœ²è®¾è®¡

> ğŸ“Š **æ¶æ„å›¾**: [æ¸è¿›å¼æŠ«éœ²è®¾è®¡](./DIAGRAMS.md#progressive-disclosure-design)

Skillsçš„æ ¸å¿ƒæ¶æ„åŸåˆ™æ˜¯**æ¸è¿›å¼æŠ«éœ²**ï¼ˆProgressive Disclosureï¼‰ï¼Œåœ¨ä¸‰ä¸ªå±‚æ¬¡ä¸Šå®ç°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åˆå§‹åŒ–é˜¶æ®µ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. åŠ è½½ SKILL.md å…ƒæ•°æ®ï¼ˆä»…åç§° + æè¿°ï¼‰               â”‚
â”‚  2. è¿æ¥æ‰€æœ‰ MCP æœåŠ¡å™¨                                 â”‚
â”‚  3. å‘ Agent æ³¨å†Œæ‰€æœ‰ MCP å·¥å…·                          â”‚
â”‚                                                         â”‚
â”‚  âœ“ Agent çŸ¥é“å·¥å…·çš„å­˜åœ¨                                 â”‚
â”‚  âœ— Agent ä¸çŸ¥é“ä½•æ—¶ä½¿ç”¨å®ƒä»¬                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æŸ¥è¯¢å¤„ç†                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. LLM å°†ç”¨æˆ·æŸ¥è¯¢åŒ¹é…åˆ°æŠ€èƒ½                             â”‚
â”‚  2. æŒ‰éœ€åŠ è½½å®Œæ•´çš„ SKILL.md å†…å®¹                        â”‚
â”‚  3. å°† SKILL.md ä½œä¸ºæŒ‡ä»¤æ³¨å…¥ç»™ Agent                    â”‚
â”‚  4. Agent æ ¹æ® SKILL.md æŒ‡å¯¼ä½¿ç”¨å·¥å…·                    â”‚
â”‚                                                         â”‚
â”‚  ç¤ºä¾‹ï¼š"Azure Functions æ–‡æ¡£"                           â”‚
â”‚  â†’ åŒ¹é…ï¼šmicrosoft-docs æŠ€èƒ½                            â”‚
â”‚  â†’ åŠ è½½ï¼šmicrosoft-docs/SKILL.md                        â”‚
â”‚  â†’ Agent å­¦ä¼šï¼š"ä½¿ç”¨ microsoft_docs_search æ¥..."      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æ´å¯Ÿï¼šSKILL.md ä½œä¸ºå·¥å…·ä½¿ç”¨æŒ‡å—

**å…³é”®è®¾è®¡å†³ç­–**ï¼šæˆ‘ä»¬ä¸æ˜¯æœ‰æ¡ä»¶åœ°å°†å·¥å…·ä¼ é€’ç»™ Agentï¼Œè€Œæ˜¯åœ¨åˆå§‹åŒ–æ—¶æ³¨å†Œæ‰€æœ‰ MCP å·¥å…·ï¼Œè®© **SKILL.md å†…å®¹æŒ‡å¯¼ä½¿ç”¨å“ªäº›å·¥å…·**ã€‚

è¿™ä½¿å¾—ï¼š
- å¤šä¸ª MCP æœåŠ¡å™¨å¯ä»¥åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­å…±å­˜
- ä¸åŒçš„æŠ€èƒ½æŒ‡å¯¼ä¸åŒçš„å·¥å…·ä½¿ç”¨
- è½»æ¾æ·»åŠ æ–°æŠ€èƒ½å’Œ MCP é›†æˆ
- å®Œå…¨åˆ†ç¦»å·¥å…·å¯ç”¨æ€§ä¸å·¥å…·é€‰æ‹©

## ç»„ä»¶æ·±å…¥è§£æ

### 1. Microsoft Agent Framework é›†æˆ

MAF æä¾›ä¼ä¸šçº§ Agent ç¼–æ’èƒ½åŠ›ï¼š

**ä½¿ç”¨çš„å…³é”®ç‰¹æ€§**ï¼š
- é€šè¿‡ `run_stream()` æµå¼å“åº”
- å¤šè½®å¯¹è¯çš„çº¿ç¨‹ç®¡ç†
- é€šè¿‡ `MCPStreamableHTTPTool` é›†æˆå·¥å…·

### 2. Agent Skills ç³»ç»Ÿ

Agent Skills éµå¾ª [agentskills.io](https://agentskills.io) æ ‡å‡†ï¼Œå¹¶æœ‰ä¸€ä¸ªè‡ªå®šä¹‰å¢å¼ºï¼š**åŸºäº LLM çš„æŠ€èƒ½åŒ¹é…**ã€‚


#### é€šè¿‡LLMè¯­ä¹‰è¯†åˆ«é—®é¢˜
```python
# âœ… è§£å†³æ–¹æ¡ˆï¼šè¯­è¨€æ— å…³ã€ç†è§£æ„å›¾
matched_skill = await llm_matcher.match_skills(
    user_query="æˆ‘æƒ³äº†è§£Cosmos DBçš„åˆ†åŒºæœºåˆ¶",
    available_skills=skills
)
# â†’ åŒ¹é…ï¼šmicrosoft-docs
```

**ä¼˜åŠ¿**ï¼š
- æ”¯æŒä»»ä½•è¯­è¨€æˆ–è¡¨è¾¾æ–¹å¼
- ç†è§£æ„å›¾ï¼Œè€Œä¸ä»…ä»…æ˜¯å…³é”®è¯
- æ— éœ€æ‰‹åŠ¨ç»´æŠ¤å…³é”®è¯
- å…³é”®è¯åŒ¹é…ä½œä¸ºå›é€€ï¼Œå¢å¼ºé²æ£’æ€§

## æŸ¥è¯¢å¤„ç†æµç¨‹

> ğŸ“Š **æ¶æ„å›¾**: [æŸ¥è¯¢å¤„ç†æµç¨‹å›¾](./DIAGRAMS.md#query-processing-flow)

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªçœŸå®æŸ¥è¯¢æ¥æ¼”ç¤ºï¼š

**ç”¨æˆ·æŸ¥è¯¢**: "ç»™æˆ‘Azure Functionsçš„Pythonä»£ç ç¤ºä¾‹"

### æ­¥éª¤ 1ï¼šLLM æŠ€èƒ½åŒ¹é…
```
å¯ç”¨æŠ€èƒ½ï¼š
  - microsoft-docs: "æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£..."
  - microsoft-code-reference: "æŸ¥æ‰¾ä»£ç ç¤ºä¾‹å’Œ API å‚è€ƒ..."

LLM åˆ†æï¼š
  ç”¨æˆ·æƒ³è¦ï¼šä»£ç ç¤ºä¾‹
  æœ€ä½³åŒ¹é…ï¼šmicrosoft-code-reference âœ“
```

### æ­¥éª¤ 2ï¼šæ¸è¿›å¼æŠ«éœ²
```
åŠ è½½å®Œæ•´çš„ SKILL.mdï¼š
  
  ## å·¥å…·
  | å·¥å…· | ç”¨é€” |
  |------|------|
  | microsoft_code_sample_search | æŸ¥æ‰¾å¯å·¥ä½œçš„ä»£ç ç¤ºä¾‹ |
  
  ## ä½•æ—¶ä½¿ç”¨
  - ç”¨æˆ·è¯·æ±‚ä»£ç ç¤ºä¾‹
  - éœ€è¦ API å‚è€ƒç¤ºä¾‹
  - éœ€è¦ SDK ä½¿ç”¨æ¨¡å¼
```

### æ­¥éª¤ 3ï¼šSKILL.md æ³¨å…¥
```python
context_message = f"""
{SKILL.md å†…å®¹}

ç”¨æˆ·é—®é¢˜ï¼šç»™æˆ‘Azure Functionsçš„Pythonä»£ç ç¤ºä¾‹
"""

stream = agent.run_stream(context_message)
```

### æ­¥éª¤ 4ï¼šAgent å·¥å…·é€‰æ‹©
Agent è¯»å– SKILL.mdï¼Œç†è§£ï¼š
- "ç”¨æˆ·æƒ³è¦ä»£ç ç¤ºä¾‹"
- "æˆ‘åº”è¯¥ä½¿ç”¨ microsoft_code_sample_search"
- æ‰§è¡Œå·¥å…· â†’ è¿”å›ç»“æœ


## ç»“è®º

æœ¬é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ç»“åˆä»¥ä¸‹æŠ€æœ¯æ„å»ºç”Ÿäº§çº§æ™ºèƒ½ Agentï¼š

- **Microsoft Agent Framework** æä¾›å¼ºå¤§çš„ç¼–æ’èƒ½åŠ›
- **Agent Skills** æä¾›æ¨¡å—åŒ–èƒ½åŠ›ç®¡ç†
- **MCP** æä¾›æ ‡å‡†åŒ–å·¥å…·é›†æˆ
- **åŸºäº LLM çš„æ™ºèƒ½** 

## èµ„æº

- **GitHub ä»“åº“**: [æ‚¨çš„ä»“åº“ URL]
- **Microsoft Agent Framework**: [agent-framework PyPI](https://pypi.org/project/agent-framework/)
- **Agent Skills æ ‡å‡†**: [agentskills.io](https://agentskills.io)
- **Model Context Protocol**: [MCP è§„èŒƒ](https://modelcontextprotocol.io/)

---

*ä½¿ç”¨ Microsoft Agent Frameworkã€React å’Œ FastAPI æ„å»º*
